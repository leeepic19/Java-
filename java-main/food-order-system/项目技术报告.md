# 餐饮点餐系统 - 项目技术报告

## 1. 项目简介
本项目是一个基于 **Spring Boot** 和 **Vue/jQuery** 技术栈开发的餐饮点餐系统。系统主要服务于两类用户：普通顾客和商家。顾客可以在线浏览菜单、下单点餐并查看订单状态；商家可以管理餐品信息（上架/下架/修改）以及处理顾客订单（发货/拒单）。项目采用前后端分离的开发模式（逻辑分离，物理部署在同一应用中），界面简洁美观，交互流畅。

## 2. 系统架构
本系统采用经典的 **B/S (Browser/Server)** 架构，后端基于 **MVC (Model-View-Controller)** 设计模式进行分层开发。

*   **表现层 (Controller)**: 负责接收前端请求，参数校验，并调用服务层处理业务逻辑。
*   **业务层 (Service)**: 封装核心业务逻辑，如订单处理、库存扣减、用户验证等。
*   **持久层 (DAO/Mapper)**: 使用 MyBatis-Plus 框架与 MySQL 数据库进行交互。
*   **前端**: 采用 HTML5 + CSS3 + jQuery 进行页面渲染和数据交互，通过 AJAX 异步请求与后端通信。

## 3. 后端技术栈
后端核心基于 **Java 17** 和 **Spring Boot 3.4.0** 构建，使用了以下关键技术：

| 技术组件 | 版本 | 说明 |
| :--- | :--- | :--- |
| **Java Development Kit** | **JDK 17** | 长期支持版本，提供更好的性能和新特性（如Record类、文本块等）。 |
| **Spring Boot** | **3.4.0** | 核心框架，提供自动配置、内嵌 Tomcat 容器，简化开发。 |
| **Spring Web** | 3.4.0 | 提供 RESTful API 支持，处理 HTTP 请求。 |
| **MyBatis-Plus** | **3.5.5** | 增强版 ORM 框架，简化 CRUD 操作，支持 Lambda 表达式查询。 |
| **MySQL Connector/J** | **8.2.0** | 数据库驱动，修复了旧版本的高风险 CVE 漏洞。 |
| **Lombok** | 1.18.32 | 简化 Java 代码，自动生成 Getter/Setter/Builder 等样板代码。 |
| **Custom Security** | N/A | 自定义安全过滤器 (`PathTraversalProtectionFilter`)，用于防御路径遍历攻击。 |

## 4. 前端技术栈
前端界面经过全面美化，采用了现代化的设计风格：

| 技术组件 | 说明 |
| :--- | :--- |
| **HTML5 / CSS3** | 页面结构与样式基础，使用了 Flexbox 和 Grid 布局，支持响应式设计。 |
| **jQuery** | **3.6.4** | 简化 DOM 操作和 AJAX 请求，处理前后端数据交互。 |
| **FontAwesome** | **6.4.0** | 提供丰富的矢量图标（如购物车、用户、商店图标），提升视觉体验。 |
| **Google Fonts** | **Noto Sans SC** | 使用无衬线字体，提升中文阅读体验。 |
| **Glassmorphism** | CSS特效 | 登录页采用“玻璃拟态”设计，增加界面质感。 |

## 5. 数据库设计
系统使用 **MySQL 8.0** 数据库，主要包含以下核心数据表：

1.  **用户表 (`user`)**: 存储用户信息（ID、用户名、密码、手机号、地址、用户类型[商家/顾客]）。
2.  **餐品表 (`food`)**: 存储餐品信息（ID、名称、价格、库存、图片路径、所属商家ID）。
3.  **订单表 (`order_info`)**: 存储订单详情（ID、用户ID、餐品ID、数量、总价、订单状态、下单时间）。
4.  **地址表 (`user_address`)**: (可选) 存储用户的常用收货地址。

## 6. 核心功能模块

### 6.1 顾客端 (User)
*   **用户注册/登录**: 支持普通用户注册和登录。
*   **浏览菜单**: 按商家分组展示餐品，支持查看餐品图片、价格和库存。
*   **在线下单**: 选择餐品数量，填写收货信息（姓名、电话、地址）进行下单。
*   **订单管理**: 查看历史订单状态（待发货、已发货、已拒单），支持手动刷新订单列表。

### 6.2 商家端 (Merchant)
*   **商家登录**: 商家专属登录入口。
*   **餐品管理**:
    *   **新增餐品**: 上传图片、设置名称、价格和库存。
    *   **编辑餐品**: 修改餐品信息。
    *   **删除餐品**: 下架不再销售的餐品。
*   **订单处理**:
    *   **查看待处理订单**: 实时查看新订单。
    *   **发货**: 确认订单并填写预计送达时间。
    *   **拒单**: 拒绝无法配送的订单，库存自动回滚。

## 7. 项目结构说明
```text
food-order-system/
├── src/main/java/com/example/
│   ├── config/          # 配置类 (SecurityConfig, WebConfig)
│   ├── controller/      # 控制器 (API 接口)
│   ├── entity/          # 实体类 (User, Food, OrderInfo)
│   ├── mapper/          # 数据访问接口 (MyBatis Mapper)
│   ├── service/         # 业务逻辑层
│   └── FoodOrderSystemApplication.java # 启动类
├── src/main/resources/
│   ├── mapper/          # MyBatis XML 映射文件
│   ├── static/          # 静态资源 (HTML, CSS, JS, Images)
│   │   ├── index.html   # 登录/注册页
│   │   ├── user.html    # 顾客主页
│   │   ├── merchant.html # 商家管理页
│   │   └── merchant-order.html # 商家订单页
│   └── application.yml  # 项目配置文件
└── pom.xml              # Maven 依赖管理
```

## 8. 总结
本项目是一个功能完备的入门级全栈应用，演示了 Spring Boot 3.x 与 MyBatis-Plus 的集成使用，以及如何通过原生前端技术构建现代化的用户界面。项目特别注重代码的安全性和规范性，修复了已知的 CVE 漏洞，并采用了分层架构以保证代码的可维护性。
